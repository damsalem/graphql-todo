(this["webpackJsonpgraphql-checklist"]=this["webpackJsonpgraphql-checklist"]||[]).push([[0],{69:function(e,t,n){"use strict";n.r(t);var r,o,a,c,s=n(3),i=n(53),u=n.n(i),d=n(21),l=n.n(d),b=n(36),j=n(29),p=n(28),h=n(14),f=n(8),x=Object(h.gql)(r||(r=Object(p.a)(["\n  query getToDos {\n    todos {\n      text\n      id\n      done\n    }\n  }\n"]))),O=Object(h.gql)(o||(o=Object(p.a)(["\n  mutation toggleToDo($id: uuid!, $done: Boolean!) {\n    update_todos(where: { id: { _eq: $id } }, _set: { done: $done }) {\n      returning {\n        text\n        id\n        done\n      }\n    }\n  }\n"]))),g=Object(h.gql)(a||(a=Object(p.a)(["\n  mutation addToDo($text: String!) {\n    insert_todos(objects: { text: $text }) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]))),m=Object(h.gql)(c||(c=Object(p.a)(["\n  mutation deleteToDo($id: uuid) {\n    delete_todos(where: { id: { _eq: $id } }) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"])));var v=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(h.useQuery)(x),a=o.data,c=o.loading,i=o.error,u=Object(h.useMutation)(O),d=Object(j.a)(u,1)[0],p=Object(h.useMutation)(g,{onCompleted:function(){return r("")}}),v=Object(j.a)(p,1)[0],y=Object(h.useMutation)(m),w=Object(j.a)(y,1)[0];function k(){return(k=Object(b.a)(l.a.mark((function e(t){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.done,e.next=3,d({variables:{id:n,done:!r}});case 3:o=e.sent,console.log("toggled todo ",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(b.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,v({variables:{text:n},refetchQueries:[{query:x}]});case 5:r=e.sent,console.log("added todo ",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(b.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!window.confirm("Are you sure you want to delete this to do?")){e.next=7;break}return e.next=5,w({variables:{id:n},update:function(e){var t=e.readQuery({query:x}).todos.filter((function(e){return e.id!==n}));e.writeQuery({query:x,data:{todos:t}})}});case 5:r=e.sent,console.log("deleted todo ",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c?Object(f.jsx)("div",{children:"Loading To Dos.."}):i?(console.log(a),Object(f.jsx)("div",{children:"Hmm... having some trouble grabbing those To Dos"})):Object(f.jsxs)("div",{className:"vh-100 code flex flex-column items-center bg-gray white pa3",children:[Object(f.jsxs)("h1",{className:"f2-l",children:["To Dos\xa0",Object(f.jsx)("span",{role:"img","aria-label":"Checkmark",children:"\u2705"})]}),Object(f.jsxs)("form",{className:"mb3",onSubmit:function(e){return q.apply(this,arguments)},children:[Object(f.jsx)("input",{className:"pa2 f4 b--dashed",type:"text",placeholder:"Write your to do",onChange:function(e){return r(e.target.value)},value:n}),Object(f.jsx)("button",{className:"pa2 f4 bg-green",type:"submit",children:"Create"})]}),Object(f.jsx)("div",{className:"flex items-center justify-center flex-column",children:Object(f.jsx)("ul",{children:a.todos.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsxs)("p",{onDoubleClick:function(){return function(e){return k.apply(this,arguments)}(e)},children:[Object(f.jsx)("span",{className:"pointer pa1 f3 ".concat(e.done&&"strike"),children:e.text}),Object(f.jsx)("button",{className:"bg-transparent bn f4 pointer",onClick:function(){return function(e){return D.apply(this,arguments)}(e)},children:Object(f.jsx)("span",{className:"red",children:"\xd7"})})]})},e.id)}))})})]})},y=new h.ApolloClient({cache:new h.InMemoryCache,uri:"https://learn-graphql-todo.hasura.app/v1/graphql",headers:{"x-hasura-admin-secret":"yugZrYZBI98WXdRr4B2wiK7svuPB1kKevZdl2SUPzbjqNuMOD6zVWkpYQcQxE5oP"}});u.a.render(Object(f.jsx)(h.ApolloProvider,{client:y,children:Object(f.jsx)(v,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.345260c1.chunk.js.map